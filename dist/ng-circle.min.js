"use strict";function ngCircle(){function e(e,t,r,i){e.$watch(function(){return parseInt(i.value)},function(e,t){return e?i.setRange(e):null})}function t(){function e(e){e=360*e/s.maxValue,e=parseInt("-"+e),i(e),l(e),n(e)}function t(e){return s.styles[e]}function r(e){var t=document.body.style,r=e.charAt(0).toUpperCase()+e.slice(1);return"Webkit"+r in t?"-webkit-"+e:"Moz"+r in t?"-moz-"+e:"Ms"+r in t?"-ms-"+e:"O"+r in t?"-o-"+e:e}function i(e){return-360>e?void(s.styles.stroke.value.leftHalf="-360deg"):void(s.styles.stroke.value.leftHalf=e>-180?"-180deg":-360-e+"deg")}function l(e){s.styles.stroke.value.rightHalf=-180>e?"0deg":-180-e+"deg"}function n(e){return-360>e?void(s.styles.dot.value="-360deg"):(e=Math.abs(e),void(s.styles.dot.value=e+"deg"))}function o(e,t){function r(e){try{return JSON.parse(e)}catch(t){return!1}}function i(e){var t={},r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(r,function(e,t,r,i){return t+t+r+r+i+i});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t=i?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:[0,0,0]}return e?r(e)?JSON.parse(e):i(e):"circle"===t?[0,0,0]:[255,255,255]}var s=this;s.size=parseInt(s.size),s.value=parseInt(s.value),s.stroke=parseInt(s.stroke),s.fill=o(s.fill,"fill"),s.color=o(s.color,"circle"),s.maxValue=parseInt(s.maxValue)||100,s.get=t,s.setRange=e,s.setSupportClient=r,s.styles={circle:{width:s.size+"px",height:s.size+"px",radius:"100%",color:"rgba("+s.color[0]+", "+s.color[1]+", "+s.color[2]+", .2)"},fill:{width:s.size-(2*s.stroke||s.size/10*2)+"px",height:s.size-(2*s.stroke||s.size/10*2)+"px",background:"rgba("+s.fill[0]+", "+s.fill[1]+", "+s.fill[2]+", 1)"},dot:{width:(s.stroke||s.size/10)+"px",height:(s.stroke||s.size/10)+"px",color:"rgba("+s.color[0]+", "+s.color[1]+", "+s.color[2]+", 1)",origin:s.size/2+"px",value:0},stroke:{color:"rgba("+s.color[0]+", "+s.color[1]+", "+s.color[2]+", 1)",value:{leftHalf:0,rightHalf:0},radius:{leftHalf:s.size+"px 0 0 "+s.size+"px",rightHalf:"0 "+s.size+"px "+s.size+"px 0"}}},e(s.value)}return{scope:!0,bindToController:{size:"@ngCircleSize",value:"@ngCircleValue",color:"@?ngCircleColor",stroke:"@?ngCircleStroke",fill:"@?ngCircleFill",pie:"=?ngCirclePie",maxValue:"@?ngCircleMaxValue"},controller:t,controllerAs:"vm",link:e,replace:!0,template:"\n    <div class=\"ng-circle\" style=\"\n      width: {{vm.get('circle').width}};\n      height: {{vm.get('circle').height}};\n      background: {{vm.get('circle').color}};\n      {{vm.setSupportClient('border-radius')}}: {{vm.get('circle').radius}};\n    \">\n      <div class=\"ng-circle__half\">\n        <div class=\"ng-circle__half-stroke is-left\" style=\"\n          background: {{vm.get('stroke').color}};\n          {{vm.setSupportClient('border-radius')}}: {{vm.get('stroke').radius.leftHalf}};\n          {{vm.setSupportClient('transform')}}: rotate({{vm.get('stroke').value.leftHalf}})\">\n        </div>\n      </div>\n\n      <div class=\"ng-circle__half\">\n        <div class=\"ng-circle__half-stroke is-right\" style=\"\n          background: {{vm.get('stroke').color}};\n          {{vm.setSupportClient('border-radius')}}: {{vm.get('stroke').radius.rightHalf}};\n          {{vm.setSupportClient('transform')}}: rotate({{vm.get('stroke').value.rightHalf}})\">\n        </div>\n      </div>\n\n      <div ng-if=\"!vm.pie\" class=\"ng-circle__dot\" style=\"\n        width: {{vm.get('dot').width}};\n        height: {{vm.get('dot').height}};\n        background: {{vm.get('dot').color}};\n        {{vm.setSupportClient('transform')}}: rotate({{vm.get('dot').value}}) translate(-50%, 0);\n        {{vm.setSupportClient('transform-origin')}}: 0 {{vm.get('dot').origin}};\">\n      </div>\n      <div ng-if=\"!vm.pie\" class=\"ng-circle__dot\" style=\"\n        width: {{vm.get('dot').width}};\n        height: {{vm.get('dot').height}};\n        background: {{vm.get('dot').color}};\">\n      </div>\n      <div ng-if=\"!vm.pie\" class=\"ng-circle__fill\" ng-style=\"vm.get('fill')\"></div>\n    </div>\n    "}}angular.module("ngCircle",[]).directive("ngCircle",ngCircle);